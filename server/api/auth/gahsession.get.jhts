import { getServerSession } from '#auth'
// import { EventHandler } from '@azure/msal-browser/dist/event/EventHandler'

export default EventHandler(async (event) => {
    const session = await getServerSession(event)
    if (!session) {
        return {
            status: 401,
            body: 'Unauthenticated'
        }
    }
    return {
        status: 'authenticated',
        text: 'Im protected',
        session
    }
})
